<!DOCTYPE HTML> 
<html lang="en"> 
<head> 
	<title>SRJS: Yield Query Example</title> 
	<meta charset="utf-8"> 
	<link rel="stylesheet" type="text/css" href="css/SRJS.css" />
	<script type="text/javascript" src="../build/SRJS-full.js"></script>

</head> 
<body>
<script type="text/javascript">
// See https://www.studentrobotics.org/docs/programming/sr/query/
// Port of the following code:
// R.motors[0].traget = 100
// R.motors[1].target = 100
// wait_for( query.io[0].input[0].a > 1 )
// R.motors[0].traget = 0
// R.motors[1].target = 0

SRJS.Init();

var initFunct = function(){
	
	// set the robot to move forward
	robot.motors[0].target = 100;
	robot.motors[1].target = 100;
	
	// when the Range Finder detects that there is a wall close ahead, stop
	robot.wait_for( new SRJS.Query( ['robot.io.rangeFinder[0].a', 'gt', 1] ), function(){
		robot.motors[0].target = 0;
		robot.motors[1].target = 0;
	});
	
};

var args = {
	initialise: initFunct
};

SRJS.CURRENT_ARENA.addRobot( args );
</script>
</body> 
</html>
